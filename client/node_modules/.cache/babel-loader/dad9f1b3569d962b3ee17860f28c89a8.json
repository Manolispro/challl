{"ast":null,"code":"import _defineProperty from\"C:\\\\Users\\\\30693\\\\Desktop\\\\challl\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:\\\\Users\\\\30693\\\\Desktop\\\\challl\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:\\\\Users\\\\30693\\\\Desktop\\\\challl\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useRef,useEffect}from'react';import AuthService from'../Services/AuthService';import Message from'../Components/Message';var Register=function Register(props){var _useState=useState({username:\"\",password:\"\",role:\"\"}),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),message=_useState4[0],setMessage=_useState4[1];var timerID=useRef(null);useEffect(function(){return function(){clearTimeout(timerID);};},[]);var onChange=function onChange(e){setUser(_objectSpread(_objectSpread({},user),{},_defineProperty({},e.target.name,e.target.value)));};var resetForm=function resetForm(){setUser({username:\"\",password:\"\",role:\"\"});};var onSubmit=function onSubmit(e){e.preventDefault();AuthService.register(user).then(function(data){var message=data.message;setMessage(message);resetForm();if(!message.msgError){timerID=setTimeout(function(){props.history.push('/login');},2000);}});};return/*#__PURE__*/React.createElement(\"div\",{class:\"register\"},/*#__PURE__*/React.createElement(\"form\",{onSubmit:onSubmit},/*#__PURE__*/React.createElement(\"h3\",null,\"Please Register\"),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"username\",className:\"sr-only\"},\"Username: \"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"username\",value:user.username,onChange:onChange,className:\"form-control\",placeholder:\"Enter Username\"}),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"password\",className:\"sr-only\"},\"Password: \"),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",name:\"password\",value:user.password,onChange:onChange,className:\"form-control\",placeholder:\"Enter Password\"}),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"role\",className:\"sr-only\"},\"Role: \"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"role\",value:user.role,onChange:onChange,className:\"form-control\",placeholder:\"Enter role (admin/user/ngo)\"}),/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-lg btn-primary btn-block\",type:\"submit\"},\"Register\")),message?/*#__PURE__*/React.createElement(Message,{message:message}):null);};export default Register;","map":{"version":3,"sources":["C:/Users/30693/Desktop/challl/client/src/Components/Register.js"],"names":["React","useState","useRef","useEffect","AuthService","Message","Register","props","username","password","role","user","setUser","message","setMessage","timerID","clearTimeout","onChange","e","target","name","value","resetForm","onSubmit","preventDefault","register","then","data","msgError","setTimeout","history","push"],"mappings":"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","sourcesContent":["import React, {useState,useRef,useEffect} from 'react';\r\nimport AuthService from '../Services/AuthService';\r\nimport Message from '../Components/Message';\r\n\r\nconst Register = props=>{\r\n    const [user,setUser] = useState({username: \"\", password : \"\", role : \"\"});\r\n    const [message,setMessage] = useState(null);\r\n    let timerID = useRef(null);\r\n\r\n    useEffect(()=>{\r\n        return ()=>{\r\n            clearTimeout(timerID);\r\n        }\r\n    },[]);\r\n\r\n    const onChange = e =>{\r\n        setUser({...user,[e.target.name] : e.target.value});\r\n    }\r\n\r\n    const resetForm = ()=>{\r\n        setUser({username : \"\", password : \"\",role : \"\"});\r\n    }\r\n\r\n    const onSubmit = e =>{\r\n        e.preventDefault();\r\n        AuthService.register(user).then(data=>{\r\n            const { message } = data;\r\n            setMessage(message);\r\n            resetForm();\r\n            if(!message.msgError){\r\n                timerID = setTimeout(()=>{\r\n                    props.history.push('/login');\r\n                },2000)\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n\r\n    return(\r\n        <div class=\"register\">\r\n            <form onSubmit={onSubmit}>\r\n                <h3>Please Register</h3>\r\n                <label htmlFor=\"username\" className=\"sr-only\">Username: </label>\r\n                <input type=\"text\" \r\n                       name=\"username\" \r\n                       value={user.username}\r\n                       onChange={onChange} \r\n                       className=\"form-control\" \r\n                       placeholder=\"Enter Username\"/>\r\n                <label htmlFor=\"password\" className=\"sr-only\">Password: </label>\r\n                <input type=\"password\" \r\n                       name=\"password\"\r\n                       value={user.password} \r\n                       onChange={onChange} \r\n                       className=\"form-control\" \r\n                       placeholder=\"Enter Password\"/>\r\n                <label htmlFor=\"role\" className=\"sr-only\">Role: </label>\r\n                <input type=\"text\" \r\n                       name=\"role\"\r\n                       value={user.role}  \r\n                       onChange={onChange} \r\n                       className=\"form-control\" \r\n                       placeholder=\"Enter role (admin/user/ngo)\"/>\r\n                <button className=\"btn btn-lg btn-primary btn-block\" \r\n                        type=\"submit\">Register</button>\r\n            </form>\r\n            {message ? <Message message={message}/> : null}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Register;"]},"metadata":{},"sourceType":"module"}